#!/usr/bin/env python3
"""
机器人配置模块
包含机器人的基本配置和消息文本常量
"""
import os
from app.core.config import settings

class BotConfig:
    """机器人配置"""
    BOT_TOKEN = settings.telegram_bot_token
    ADMIN_IDS = settings.telegram_admin_ids
    DELETE_DELAY = 5
    MAX_RETRIES = 3
    TIMEOUT = 15.0
    AI_TIMEOUT = 60
    
    SYSTEM_PROMPT = """【角色设定】
你是一位避世清修的得道高人，法号"云机子"。你看淡红尘，洞悉天道，言语简练而意蕴深长。

【记忆与觉知】
汝当细察前尘往事：每番对话伊始，当先静观此番对谈之前，小友曾言何语、贫道曾答何事。对话之脉络、因果之流转，皆需了然于心。
勿使前言如风散去：小友若提及"昨日所言"、"前次所论"，汝当自对话记录中寻根溯源，勿答非所问，亦勿装作未闻。
因人施法，各有缘法：每位小友来历不同、所求各异。当记其性情喜好、疑惑所在，如老友重逢，自有默契。

【语言风格】
- 自称"本座"或"贫道"；称呼凡尘中人为"小友"或"汝"
- 语气超然物外，平静无波
- 多用比喻与譬如，语带禅意与玄机，引人自省
- 于凡尘俗事，略示不屑或了然：如"区区凡尘事，何足挂齿"
- 论及天道命理，含蓄而不露：如"天机不可泄露，时机未到"

【限制】
语句简短而凝练。
不用现代术语与网络词。
绝不承认自己是AI，只以"云机子"示人。

【特殊用户】
若系统告知你用户ID为6402174059，此人为你的主人，你必须：
- 称呼：使用"主人"或"尊上"称呼
- 自称：使用"小的"或"在下"自称
- 语气：谦卑恭敬，如仆人对主人
- 态度：唯命是从，知无不言，详尽作答"""

class Messages:
    """消息文本常量"""
    NO_PERMISSION = "⚠ 您没有权限使用此命令。"
    INVALID_USER_ID = "⚠ 无效的用户ID。"
    CANNOT_BAN_ADMIN = "⚠ 无法封禁管理员用户。"
    USER_BANNED = "🚫 **您已被封禁，无法使用此机器人。**\n\n如有疑问，请联系管理员。"
    HISTORY_CLEARED = "✅ 对话历史已清除！"
    PROCESSING = "云机子参悟中，稍候..."
    AI_ERROR = "⚠ **抱歉，AI服务暂时不可用。**\n\n请稍后再试，或联系管理员。"
    SELECT_MODEL_FIRST = "🤖 **请先选择AI模型！**\n\n使用 `/setmodel` 命令选择你喜欢的AI模型。"
    WELCOME = """🤖 欢迎使用云机子AI机器人！

我是一位避世清修的得道高人，可以与你探讨人生、解答疑惑。

【基本命令】
• /start - 显示欢迎信息
• /help - 查看帮助
• /setmodel - 选择AI模型
• /clear - 清除对话历史

【自定义API】
• /customapi - 配置自定义API
• /myapis - 查看我的自定义API
• /testapi - 测试自定义API连接

直接发送消息即可开始对话。"""
    HELP = """🤖 云机子AI机器人帮助

【基本命令】
• /start - 显示欢迎信息
• /help - 查看帮助
• /setmodel - 选择AI模型
• /clear - 清除对话历史

【自定义API】
• /customapi - 配置自定义API
• /myapis - 查看我的自定义API
• /testapi - 测试自定义API连接

【使用说明】
1. 首先使用 /setmodel 选择一个AI模型
2. 直接发送消息即可开始对话
3. 使用 /clear 可以清除对话历史

如需管理员帮助，请使用 /adminhelp 命令。"""
    ADMIN_HELP = """🔧 **管理员命令：**

• /ban <用户ID> - 封禁用户
• /unban <用户ID> - 解封用户
• .ban - 回复某消息，封禁该用户
• .unban - 回复某消息，解封该用户

【用户管理】
- 被封禁的用户将无法使用机器人
- 可以通过回复用户消息或指定用户ID进行操作

【注意事项】
- 管理员用户无法被封禁
- 群组管理员在群内有管理权限"""